process ProcessOne = {

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = DAQEcalTBInputService{
#            untracked  vstring fileNames = {'rfio:/castor/cern.ch/cms/archive/ecal/h4/H4-000026930-SM3-LASER-STD'}
#            untracked  vstring fileNames = {'file:/tmp/meridian/H4-000026930-SM3-LASER-STD'}
#            untracked  vstring fileNames = {'file:/tmp/meridian/H4-000026948-SM3-PEDESTAL-STD'}
#            untracked  vstring fileNames = {'rfio:/castor/cern.ch/cms/archive/ecal/h4/H4-000026965-SM2-PEDESTAL-STD'}
#            untracked  vstring fileNames = {'rfio:pccmsrm14:/tmp/meridian/H4-000026965-SM2-PEDESTAL-STD'}
            untracked  vstring fileNames = {'file:./H4-000026930-SM3-LASER-STD'}
            untracked int32 maxEvents = -1 
            uint32 runNumber = 72999
            # next line is needed only for the older ascii raw data files.
            # when running on the latest raw data in binary format comment the following line
            untracked bool isBinary = true
  }

 # unpack raw data from test beam 
  module ecalEBunpacker = EcalRawToDigi
	{
            untracked vint32 FEDs = { 13 }
            untracked int32 EcalFirstFED = 12 
            untracked string DCCMapFile = "EventFilter/EcalRawToDigi/data/DCCMap.txt"
	}

#  module ecalEBunpacker = EcalDCCUnpackingModule {}


  module digiDumper = EcalDigiDumperModule {}
 # producer of rechits starting from digis. Analytic Fit producer does not require any condition from the DB 
#  module uncalibHitMaker = EcalAnalFitUncalibRecHitProducer {
#   string digiProducer   = "ecalEBunpacker"
#   string EBdigiCollection = ""
#   string EEdigiCollection = ""
#   string EBhitCollection  = "EcalEBAnalFitUncalibRecHits"
#   string EEhitCollection  = ""
#   untracked int32 nMaxPrintout = 1 }

 module out = PoolOutputModule  { untracked string fileName = "uncalibRechits.root" }

 path p = { ecalEBunpacker , digiDumper }
#, uncalibHitMaker  }
 endpath ep = { out }

}
